{"version":3,"sources":["doc_listeners.js","router.js","classes/catalog.js","classes/gallery.js","classes/top_catalog.js","classes/user.js","templates/catalog.js","templates/categories.js","templates/category.js","templates/error.js","templates/home.js","templates/image.js","templates/top_image.js"],"names":["document","addEventListener","event","targetId","target","id","getElementById","style","display","userName","value","userPassword","userRepPassword","signupUser","currentUser","innerHTML","changeNavbar","foundElem","loginUser","currentCatalog","moveCatalogLeft","moveCatalogRight","currentTopCatalog","goToNextImagePage","bla","image","src","substring","addVote","userIsSet","root","useHash","hash","router","Navigo","on","elem","getElementsByClassName","homePageTemplate","params","getGallery","Catalog","currentGalery","allCategories","getCategory","title","loadCatalog","categoriesPageTemplate","getCategories","cat","i","getLength","categoryTemplate","currentPicture","parseInt","imageTemplate","category","source","topImageTemplate","votes","attitude","getTopImages","resolve","notFound","errorPageTemplate","window","location","href","callback","fetch","then","response0","json","response","AllCategories","categories","call","catch","err","console","log","constructor","categoryArray","data","length","index","galery","leftdiff","content","catalogTemplate","displayCatalog","len","getLengthOfGallery","getGalleryImages","getImageDiv","link","result","leftOneStep","start","Date","now","timer","setInterval","timePassed","old","left","isNaN","clearInterval","rightOneStep","Math","abs","Gallery","list","photos","category_images","TopCatalog","imageList","img","dicImage","forEach","item","vote","undefined","sorted","returnSortedDict","dict","items","Object","keys","map","key","sort","first","second","User","username","pictureId","action","hasVoted","getVote","found","password","fillCurrentUserVotes","user","html","error_code","name","voteText"],"mappings":"AAAAA,SAASC,gBAAT,CAA0B,OAA1B,EAAmC,UAASC,KAAT,EAAe;;AAGhD,MAAIC,WAAWD,MAAME,MAAN,CAAaC,EAA5B;;AAEA,MAAGF,YAAY,cAAf,EAA8B;AAC5BH,aAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AAED;;AAED,MAAGL,YAAY,cAAf,EAA8B;AAC5B,QAAIM,WAAWT,SAASM,cAAT,CAAwB,WAAxB,EAAqCI,KAApD;AACA,QAAIC,eAAeX,SAASM,cAAT,CAAwB,WAAxB,EAAqCI,KAAxD;AACA,QAAIE,kBAAkBZ,SAASM,cAAT,CAAwB,cAAxB,EAAwCI,KAA9D;;AAGA,QAAGC,gBAAgBC,eAAnB,EAAmC;AACjCC,iBAAWJ,QAAX,EAAqB,YAAU;AAC7B,YAAGK,eAAe,IAAlB,EAAuB;AACrBd,mBAASM,cAAT,CAAwB,YAAxB,EAAsCS,SAAtC,GAAkD,0BAAlD;AACD,SAFD,MAEK;AACHf,mBAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,mBAASM,cAAT,CAAwB,WAAxB,EAAqCI,KAArC,GAA6C,EAA7C;AACAV,mBAASM,cAAT,CAAwB,WAAxB,EAAqCI,KAArC,GAA6C,EAA7C;AACAV,mBAASM,cAAT,CAAwB,cAAxB,EAAwCI,KAAxC,GAAgD,EAAhD;AACAM,uBAAa,IAAb;AACD;AACF,OAVD;AAWD,KAZD,MAYM;AACJhB,eAASM,cAAT,CAAwB,YAAxB,EAAsCS,SAAtC,GAAkD,kCAAlD;AACD;AAEF;;AAED,MAAGZ,YAAY,cAAf,EAA8B;AAC5BH,aAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,MAAnD;AACAR,aAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,OAApD;AACAR,aAASM,cAAT,CAAwB,YAAxB,EAAsCS,SAAtC,GAAkD,SAAlD;AAED;;AAED,MAAGZ,YAAY,aAAf,EAA6B;AAC3BH,aAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,MAAnD;AAED;;AAED,MAAGL,YAAY,aAAf,EAA6B;;AAE3B,QAAIM,WAAWT,SAASM,cAAT,CAAwB,UAAxB,EAAoCI,KAAnD;AACA,QAAIC,eAAeX,SAASM,cAAT,CAAwB,UAAxB,EAAoCI,KAAvD;;AAEA,QAAIO,YAAY,KAAhB;;AAEAA,gBAAYC,UAAUT,QAAV,EAAoBE,YAApB,EAAkC,YAAU;AACtD,UAAGG,eAAe,IAAlB,EAAuB;AACrBd,iBAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,oCAAjD;AACD,OAFD,MAEK;AACHf,iBAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,MAAnD;AACAR,iBAASM,cAAT,CAAwB,UAAxB,EAAoCI,KAApC,GAA4C,EAA5C;AACAV,iBAASM,cAAT,CAAwB,UAAxB,EAAoCI,KAApC,GAA4C,EAA5C;AACAM,qBAAa,IAAb;AACD;AAEF,KAVW,CAAZ;AAcD;;AAED,MAAGb,YAAY,aAAf,EAA6B;AAC3BH,aAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,aAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,OAAnD;AACAR,aAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,SAAjD;AAED;;AAED,MAAGZ,YAAY,QAAf,EAAwB;AACtBW,kBAAc,IAAd;AACAE,iBAAa,KAAb;AACD;;AAGD,MAAGb,YAAY,SAAf,EAAyB;AACvBgB,mBAAeC,eAAf;AACD;;AAED,MAAGjB,YAAY,UAAf,EAA0B;AACxBgB,mBAAeE,gBAAf;AACD;;AAED,MAAGlB,YAAY,YAAf,EAA4B;AAC1BmB,sBAAkBF,eAAlB;AACD;;AAED,MAAGjB,YAAY,aAAf,EAA6B;AAC3BmB,sBAAkBD,gBAAlB;AACD;;AAID,MAAGlB,YAAY,WAAf,EAA2B;AACzBgB,mBAAeI,iBAAf;AACD;;AAED,MAAGpB,YAAY,cAAf,EAA8B;AAC5B,QAAGW,eAAe,IAAlB,EAAuB;AACrBd,eAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,OAAnD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,SAAjD;AACD,KAJD,MAIM;;AAEJ,UAAIS,MAAOxB,SAASM,cAAT,CAAwB,aAAxB,CAAX;AACA,UAAImB,QAASD,IAAIE,GAAL,CAAUC,SAAV,CAAoB,EAApB,CAAZ;AACAb,kBAAYc,OAAZ,CAAoBH,KAApB,EAA2B,CAAC,CAA5B;AACAN,qBAAeI,iBAAf;AACD;AACF;;AAED,MAAGpB,YAAY,WAAf,EAA2B;AACzB,QAAGW,eAAe,IAAlB,EAAuB;AACrBd,eAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,OAAnD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,SAAjD;AACD,KAJD,MAIM;AACJ,UAAIS,MAAOxB,SAASM,cAAT,CAAwB,aAAxB,CAAX;AACA,UAAImB,QAASD,IAAIE,GAAL,CAAUC,SAAV,CAAoB,EAApB,CAAZ;AACAb,kBAAYc,OAAZ,CAAoBH,KAApB,EAA2B,CAA3B;AACAN,qBAAeI,iBAAf;AACD;AAEF;;AAED,MAAGpB,YAAY,cAAf,EAA8B;AAC5BmB,sBAAkBC,iBAAlB;AACD;;AAED,MAAGpB,YAAY,iBAAf,EAAiC;AAC/B,QAAGW,eAAe,IAAlB,EAAuB;AACrBd,eAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,OAAnD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,SAAjD;AACD,KAJD,MAIM;;AAEJ,UAAIS,MAAOxB,SAASM,cAAT,CAAwB,aAAxB,CAAX;AACA,UAAImB,QAASD,IAAIE,GAAL,CAAUC,SAAV,CAAoB,EAApB,CAAZ;AACAb,kBAAYc,OAAZ,CAAoBH,KAApB,EAA2B,CAAC,CAA5B;AACAH,wBAAkBC,iBAAlB;AACD;AACF;;AAED,MAAGpB,YAAY,cAAf,EAA8B;AAC5B,QAAGW,eAAe,IAAlB,EAAuB;AACrBd,eAASM,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,CAA4CC,OAA5C,GAAoD,MAApD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,OAA3C,GAAmD,OAAnD;AACAR,eAASM,cAAT,CAAwB,WAAxB,EAAqCS,SAArC,GAAiD,SAAjD;AACD,KAJD,MAIM;AACJ,UAAIS,MAAOxB,SAASM,cAAT,CAAwB,aAAxB,CAAX;AACA,UAAImB,QAASD,IAAIE,GAAL,CAAUC,SAAV,CAAoB,EAApB,CAAZ;AACAb,kBAAYc,OAAZ,CAAoBH,KAApB,EAA2B,CAA3B;AACAH,wBAAkBC,iBAAlB;AACD;AAEF;AAGF,CArKD;;AAyKA,SAASP,YAAT,CAAsBa,SAAtB,EAAgC;AAC9B,MAAGA,SAAH,EAAa;AACX7B,aAASM,cAAT,CAAwB,QAAxB,EAAkCC,KAAlC,CAAwCC,OAAxC,GAAgD,OAAhD;AACAR,aAASM,cAAT,CAAwB,cAAxB,EAAwCC,KAAxC,CAA8CC,OAA9C,GAAsD,MAAtD;AACAR,aAASM,cAAT,CAAwB,aAAxB,EAAuCC,KAAvC,CAA6CC,OAA7C,GAAqD,MAArD;AACD,GAJD,MAIM;AACJR,aAASM,cAAT,CAAwB,QAAxB,EAAkCC,KAAlC,CAAwCC,OAAxC,GAAgD,MAAhD;AACAR,aAASM,cAAT,CAAwB,cAAxB,EAAwCC,KAAxC,CAA8CC,OAA9C,GAAsD,OAAtD;AACAR,aAASM,cAAT,CAAwB,aAAxB,EAAuCC,KAAvC,CAA6CC,OAA7C,GAAqD,OAArD;AACD;AAEF;ACpLD;;;AAGA,IAAIsB,OAAO,2CAAX;AACA,IAAIC,UAAU,KAAd,C,CAAqB;AACrB,IAAIC,OAAO,GAAX,C,CAAgB;AAChB,IAAIC,SAAS,IAAIC,MAAJ,CAAW,IAAX,EAAiB,KAAjB,CAAb;;AAIAD,OACGE,EADH,CACM;;AAEF,UAAQ,YAAY;;AAElB,QAAIC,OAAOpC,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAX;AACAD,SAAKrB,SAAL,GAAiBuB,kBAAjB;AACD,GANC;;AAQF,qBAAoB,UAAUC,MAAV,EAAkB;;AAEpCC,eAAWD,OAAOlC,EAAlB,EAAuB,YAAU;;AAE/Bc,uBAAiB,IAAIsB,OAAJ,CAAYC,aAAZ,EAA2BC,cAAcC,WAAd,CAA0BL,OAAOlC,EAAjC,EAAqCwC,KAAhE,CAAjB;AACA1B,qBAAe2B,WAAf;AACD,KAJD;AAQD,GAlBC;;AAoBF,gBAAc,YAAY;AACxB;AACA,QAAIV,OAAOpC,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAX;AACAD,SAAKrB,SAAL,GAAiBgC,wBAAjB;;AAGAC,kBAAc,YAAU;AACtB,UAAIC,MAAMjD,SAASqC,sBAAT,CAAgC,eAAhC,EAAiD,CAAjD,CAAV;;AAEA,WAAI,IAAIa,IAAG,CAAX,EAAcA,IAAEP,cAAcQ,SAAd,EAAhB,EAA2CD,GAA3C,EAA+C;AAC7CD,YAAIlC,SAAJ,IAAiBqC,iBAAiBT,cAAcC,WAAd,CAA0BM,CAA1B,CAAjB,CAAjB;AACD;AACF,KAND;AASD,GAnCC;;AAqCF,2CAA0C,UAAUX,MAAV,EAAiB;AACzD,QAAIH,OAAOpC,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAX;AACAlB,mBAAekC,cAAf,GAAgCC,SAASf,OAAOlC,EAAhB,CAAhC;AACD+B,SAAKrB,SAAL,GAAiBwC,cAAchB,OAAOiB,QAArB,EAA+BjB,OAAOkB,MAAtC,CAAjB;AACA,GAzCC;;AA2CF,+CAA8C,UAAUlB,MAAV,EAAiB;AAC7D,QAAIH,OAAOpC,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAX;AACAf,sBAAkB+B,cAAlB,GAAmCC,SAASf,OAAOlC,EAAhB,CAAnC;;AAEA,QAAIqB,MAAO,UAASa,OAAOU,GAAI,IAAGV,OAAOb,GAAI,EAA7C;;AAEAU,SAAKrB,SAAL,GAAiB2C,iBAAiBhC,GAAjB,EAAsBa,OAAOoB,KAA7B,EAAoCpB,OAAOqB,QAA3C,CAAjB;AACD,GAlDC;;AAoDF,cAAY,YAAY;;AAEtBC,iBAAa,KAAb,EAAqB,YAAU;;AAE7BvC,wBAAkBwB,WAAlB;AACD,KAHD;AAID,GA1DC;;AA4DF,WAAS,YAAY;;AAEnBe,iBAAa,IAAb,EAAoB,YAAU;;AAE5BvC,wBAAkBwB,WAAlB;AACD,KAHD;AAID;;AAlEC,CADN,EA0EGgB,OA1EH;;AA4EE7B,OAAO8B,QAAP,CAAgB,YAAY;;AAE1B,MAAI3B,OAAOpC,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAX;AACAD,OAAKrB,SAAL,GAAiBiD,kBAAmB,cAAaC,OAAOC,QAAP,CAAgBC,IAAK,2BAArD,CAAjB;AACD,CAJD;;AAQA,SAASnB,aAAT,CAAuBoB,QAAvB,EAAgC;AAC9BC,QAAM,sBAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;;AAEvB9B,sBAAgB,IAAI+B,aAAJ,CAAkBD,SAASE,UAA3B,CAAhB;;AAGA,UAAI,OAAOP,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,iBAASQ,IAAT,CAAc,IAAd;AACD;AAEF,KAXH;AAYH,GAfP,EAiBKC,KAjBL,CAiBW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ;AACA;AACA;AACD,GArBL;AAsBD;;AAEH,MAAMN,aAAN,CAAoB;;AAEhBO,cAAYC,aAAZ,EAA2B;AACzB,SAAKC,IAAL,GAAYD,aAAZ;AACD;;AAED/B,cAAW;AACT,WAAO,KAAKgC,IAAL,CAAUC,MAAjB;AACD;;AAEDxC,cAAYyC,KAAZ,EAAkB;AAChB,WAAO,KAAKF,IAAL,CAAUE,KAAV,CAAP;AACD;AAZe;;AAgBpB,IAAI1C,gBAAgB,IAApB;ACvIA,MAAMF,OAAN,CAAa;;AAEXwC,cAAYK,MAAZ,EAAoBzC,KAApB,EAA0B;AACxB,SAAKyC,MAAL,GAAcA,MAAd;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKnD,IAAL,GAAY,IAAZ;AACA,SAAKiB,cAAL,GAAsB,IAAtB;AACA,SAAKR,KAAL,GAAaA,KAAb;AACD;;AAGDC,gBAAa;AACX,QAAI0C,UAAUxF,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAd;AACAmD,YAAQzE,SAAR,GAAoB0E,gBAAgB,KAAK5C,KAArB,CAApB;AACA,SAAKT,IAAL,GAAYpC,SAASM,cAAT,CAAwB,SAAxB,CAAZ;;AAEA,SAAKoF,cAAL;AACD;;AAGDA,mBAAgB;AACd,QAAIC,MAAM,KAAKL,MAAL,CAAYM,kBAAZ,EAAV;;AAEA,SAAKxD,IAAL,CAAUrB,SAAV,GAAsB,EAAtB;;AAEA,SAAKqB,IAAL,GAAYpC,SAASM,cAAT,CAAwB,SAAxB,CAAZ;;AAEA,SAAI,IAAI4C,IAAE,CAAV,EAAaA,IAAEyC,GAAf,EAAoBzC,GAApB,EAAwB;AACtB,UAAI3C,QAAS,QAAQ2C,IAAEA,IAAE,EAAI,qCAAoC,KAAKoC,MAAL,CAAYO,gBAAZ,GAA+B3C,CAA/B,CAAkC,MAAnG;AACA,WAAKd,IAAL,CAAUrB,SAAV,IAAuB,KAAK+E,WAAL,CAAiBvF,KAAjB,EAAwB,KAAK+E,MAAL,CAAYO,gBAAZ,GAA+B3C,CAA/B,CAAxB,EAA2DA,CAA3D,CAAvB;AACD;AACF;;AAGD4C,cAAYvF,KAAZ,EAAmBwF,IAAnB,EAAyBV,KAAzB,EAA+B;AAC7B,QAAIW,SAAU,mBAAkBD,IAAK,IAAGV,KAAM,4CAA2C9E,KAAM,cAA/F;AACA,WAAOyF,MAAP;AACD;;AAIDC,gBAAc;AACZ,QAAIC,QAAQC,KAAKC,GAAL,EAAZ;AACA,QAAIhE,OAAO,KAAKA,IAAhB;AACA,QAAIiE,QAAQC,YAAY,YAAW;AACjC,UAAIC,aAAaJ,KAAKC,GAAL,KAAaF,KAA9B;;AAEA,UAAIM,MAAOlD,SAASlB,KAAK7B,KAAL,CAAWkG,IAApB,EAA0B,EAA1B,CAAX;;AAEA,UAAGC,MAAMF,GAAN,CAAH,EAAc;AACZA,cAAM,CAAN;AACD;AACDpE,WAAK7B,KAAL,CAAWkG,IAAX,GAAkBD,MAAM,CAAN,GAAU,GAA5B;;AAEA,UAAID,aAAa,IAAjB,EAAuBI,cAAcN,KAAd;AAExB,KAZW,EAYT,EAZS,CAAZ;AAaD;;AAEAO,iBAAe;;AAEd,QAAIV,QAAQC,KAAKC,GAAL,EAAZ;AACA,QAAIhE,OAAO,KAAKA,IAAhB;AACA,QAAIiE,QAAQC,YAAY,YAAW;AACjC,UAAIC,aAAaJ,KAAKC,GAAL,KAAaF,KAA9B;;AAEA,UAAIM,MAAOlD,SAASlB,KAAK7B,KAAL,CAAWkG,IAApB,EAA0B,EAA1B,CAAX;;AAEA,UAAGC,MAAMF,GAAN,CAAH,EAAc;AACZA,cAAM,CAAN;AACD;AACDpE,WAAK7B,KAAL,CAAWkG,IAAX,GAAkBD,MAAM,CAAN,GAAU,GAA5B;;AAEA,UAAID,aAAa,IAAjB,EAAuBI,cAAcN,KAAd;AAExB,KAZW,EAYT,EAZS,CAAZ;AAaD;AACDjF,oBAAiB;AACf,QAAGyF,KAAKC,GAAL,CAAS,KAAKvB,QAAd,KAA2B,KAAKD,MAAL,CAAYM,kBAAZ,KAAiC,CAA/D,EAAiE;AAC/D;AACD;AACD,SAAKK,WAAL;AACA,SAAKV,QAAL;AACD;;AAEDlE,qBAAkB;;AAEhB,QAAG,KAAKkE,QAAL,IAAiB,CAApB,EAAsB;AACpB;AACD;;AAED,SAAKqB,YAAL;AACA,SAAKrB,QAAL;AACD;;AAGDhE,sBAAmB;AACjB,SAAK8B,cAAL;AACA,QAAG,KAAKA,cAAL,IAAuB,KAAKiC,MAAL,CAAYO,gBAAZ,GAA+BT,MAAzD,EACEnB,OAAOC,QAAP,CAAgBC,IAAhB,GAAwB,GAAErC,IAAK,UAAS,KAAKwD,MAAL,CAAYO,gBAAZ,GAA+B,KAAKxC,cAApC,CAAoD,IAAG,KAAKA,cAAe,GAAnH,CADF,KAGEY,OAAOC,QAAP,CAAgBC,IAAhB,GAAwB,GAAErC,IAAK,aAA/B;AACH;;AAtGU;;AA2Gb,IAAIX,iBAAiB,IAArB;AC3GA,MAAM4F,OAAN,CAAc;;AAEZ9B,cAAY+B,IAAZ,EAAkB;AAChB,SAAKC,MAAL,GAAcD,IAAd;AACD;;AAGDnB,qBAAkB;AAChB,WAAO,KAAKoB,MAAZ;AACD;;AAEDrB,uBAAoB;AAClB,WAAO,KAAKqB,MAAL,CAAY7B,MAAnB;AACD;AAbW;;AAiBd,SAAS5C,UAAT,CAAoB6C,KAApB,EAA4BjB,QAA5B,EAAqC;AACnCC,QAAM,2BAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;;AAEvB/B,sBAAgB,IAAIqE,OAAJ,CAAYtC,SAASyC,eAAT,CAAyB7B,KAAzB,CAAZ,CAAhB;;AAGA,UAAI,OAAOjB,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,iBAASQ,IAAT,CAAc,IAAd;AACD;AAEF,KAXH;AAYH,GAfP,EAiBKC,KAjBL,CAiBW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B;AACD,GAnBL;AAoBD;;AAED,IAAIpC,gBAAgB,IAApB;ACxCA,MAAMyE,UAAN,CAAgB;;AAEdlC,cAAYmC,SAAZ,EAAuBvE,KAAvB,EAA8Be,QAA9B,EAAuC;AACrC,SAAKwD,SAAL,GAAiBA,SAAjB;AACA,SAAK7B,QAAL,GAAgB,CAAhB;AACA,SAAKnD,IAAL,GAAY,IAAZ;AACA,SAAKiB,cAAL,GAAsB,IAAtB;AACA,SAAKR,KAAL,GAAaA,KAAb;AACA,SAAKe,QAAL,GAAgBA,QAAhB;AACD;;AAGDd,gBAAa;AACX,QAAI0C,UAAUxF,SAASqC,sBAAT,CAAgC,SAAhC,EAA2C,CAA3C,CAAd;AACAmD,YAAQzE,SAAR,GAAoB0E,gBAAgB,KAAK5C,KAArB,CAApB;AACA,SAAKT,IAAL,GAAYpC,SAASM,cAAT,CAAwB,SAAxB,CAAZ;;AAEA,SAAKoF,cAAL;;AAEA1F,aAASM,cAAT,CAAwB,SAAxB,EAAmCD,EAAnC,GAAwC,YAAxC;AACAL,aAASM,cAAT,CAAwB,UAAxB,EAAoCD,EAApC,GAAyC,aAAzC;AACD;;AAGDqF,mBAAgB;AACd,QAAIC,MAAM,KAAKyB,SAAL,CAAehC,MAAzB;;AAEA,SAAKhD,IAAL,CAAUrB,SAAV,GAAsB,EAAtB;;AAEA,SAAKqB,IAAL,GAAYpC,SAASM,cAAT,CAAwB,SAAxB,CAAZ;;AAEA,SAAI,IAAI4C,IAAE,CAAV,EAAaA,IAAEyC,GAAf,EAAoBzC,GAApB,EAAwB;AACtB,UAAI3C,QAAS,QAAQ2C,IAAEA,IAAE,EAAI,8BAA6B,KAAKkE,SAAL,CAAelE,CAAf,EAAkB,CAAlB,CAAqB,MAA/E;;AAEA,WAAKd,IAAL,CAAUrB,SAAV,IAAuB,KAAK+E,WAAL,CAAiBvF,KAAjB,EAAwB,KAAK6G,SAAL,CAAelE,CAAf,CAAxB,EAA2CA,CAA3C,CAAvB;AACD;AACF;;AAGD4C,cAAYvF,KAAZ,EAAmB8G,GAAnB,EAAwBhC,KAAxB,EAA8B;AAC5B,QAAIW,SAAU,iBAAgB,KAAKpC,QAAS,IAAGyD,IAAI,CAAJ,CAAO,IAAGhC,KAAM,IAAGgC,IAAI,CAAJ,CAAO,4CAA2C9G,KAAM,cAA1H;AACA,WAAOyF,MAAP;AACD;;AAIDC,gBAAc;AACZ,QAAIC,QAAQC,KAAKC,GAAL,EAAZ;AACA,QAAIhE,OAAO,KAAKA,IAAhB;AACA,QAAIiE,QAAQC,YAAY,YAAW;AACjC,UAAIC,aAAaJ,KAAKC,GAAL,KAAaF,KAA9B;;AAEA,UAAIM,MAAOlD,SAASlB,KAAK7B,KAAL,CAAWkG,IAApB,EAA0B,EAA1B,CAAX;;AAEA,UAAGC,MAAMF,GAAN,CAAH,EAAc;AACZA,cAAM,CAAN;AACD;AACDpE,WAAK7B,KAAL,CAAWkG,IAAX,GAAkBD,MAAM,CAAN,GAAU,GAA5B;;AAEA,UAAID,aAAa,IAAjB,EAAuBI,cAAcN,KAAd;AAExB,KAZW,EAYT,EAZS,CAAZ;AAaD;;AAEAO,iBAAe;;AAEd,QAAIV,QAAQC,KAAKC,GAAL,EAAZ;AACA,QAAIhE,OAAO,KAAKA,IAAhB;AACA,QAAIiE,QAAQC,YAAY,YAAW;AACjC,UAAIC,aAAaJ,KAAKC,GAAL,KAAaF,KAA9B;;AAEA,UAAIM,MAAOlD,SAASlB,KAAK7B,KAAL,CAAWkG,IAApB,EAA0B,EAA1B,CAAX;;AAEA,UAAGC,MAAMF,GAAN,CAAH,EAAc;AACZA,cAAM,CAAN;AACD;AACDpE,WAAK7B,KAAL,CAAWkG,IAAX,GAAkBD,MAAM,CAAN,GAAU,GAA5B;;AAEA,UAAID,aAAa,IAAjB,EAAuBI,cAAcN,KAAd;AAExB,KAZW,EAYT,EAZS,CAAZ;AAaD;AACDjF,oBAAiB;AACf,QAAGyF,KAAKC,GAAL,CAAS,KAAKvB,QAAd,KAA2B,KAAK6B,SAAL,CAAehC,MAAf,GAAsB,CAApD,EAAsD;AACpD;AACD;AACD,SAAKa,WAAL;AACA,SAAKV,QAAL;AACD;;AAEDlE,qBAAkB;;AAEhB,QAAG,KAAKkE,QAAL,IAAiB,CAApB,EAAsB;AACpB;AACD;;AAED,SAAKqB,YAAL;AACA,SAAKrB,QAAL;AACD;;AAGDhE,sBAAmB;AACjB,SAAK8B,cAAL;AACA,QAAG,KAAKA,cAAL,IAAuB,KAAK+D,SAAL,CAAehC,MAAzC,EAAgD;AAC9C,UAAI1D,MAAM,KAAK0F,SAAL,CAAe,KAAK/D,cAApB,EAAoC,CAApC,CAAV;AACA,UAAIhD,KAAK,KAAKgD,cAAd;AACA,UAAIM,QAAQ,KAAKyD,SAAL,CAAe,KAAK/D,cAApB,EAAoC,CAApC,CAAZ;AACAY,aAAOC,QAAP,CAAgBC,IAAhB,GAAwB,GAAErC,IAAK,QAAO,KAAK8B,QAAS,IAAGlC,GAAI,IAAGrB,EAAG,IAAGsD,KAAM,EAA1E;AACD,KALD,MAKK;AACH,UAAG,KAAKC,QAAR,EAAiB;AACfK,eAAOC,QAAP,CAAgBC,IAAhB,GAAwB,GAAErC,IAAK,QAA/B;AACD,OAFD,MAEO;AACLmC,eAAOC,QAAP,CAAgBC,IAAhB,GAAwB,GAAErC,IAAK,WAA/B;AACD;AACF;AACF;;AAnHa;;AAwHhB,IAAIR,oBAAoB,IAAxB;;AAGA,SAASuC,YAAT,CAAsBD,QAAtB,EAAiCQ,QAAjC,EAA0C;AACxCC,QAAM,iBAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;AACvB,UAAI6C,WAAW,EAAf;;AAEA7C,eAASd,KAAT,CAAe4D,OAAf,CAAuB,UAASC,IAAT,EAAc;;AAEnC,YAAKA,KAAKC,IAAL,IAAa,GAAb,IAAoB7D,YAAY,IAAjC,IAA2C4D,KAAKC,IAAL,IAAa,IAAb,IAAqB7D,YAAY,KAAhF,EAAyF;AACvF,cAAI0D,SAASE,KAAK/F,KAAd,MAAyBiG,SAA7B,EACEJ,SAASE,KAAK/F,KAAd,IADF,KAGE6F,SAASE,KAAK/F,KAAd,IAAuB,CAAvB;AACH;AAEF,OATD;;AAWA,UAAIkG,SAASC,iBAAiBN,QAAjB,CAAb;;AAEA,UAAIzE,QAAQ,EAAZ;;AAIA,UAAGe,YAAY,KAAf,EAAqB;AACnBf,gBAAQ,0BAAR;AACD,OAFD,MAEK;AACHA,gBAAQ,uBAAR;AACD;AACDvB,0BAAoB,IAAI6F,UAAJ,CAAeQ,MAAf,EAAuB9E,KAAvB,EAA8Be,QAA9B,CAApB;;AAEA,UAAI,OAAOQ,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,iBAASQ,IAAT,CAAc,IAAd;AACD;AAEF,KAjCH;AAkCH,GArCP,EAuCKC,KAvCL,CAuCW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B;AACD,GAzCL;AA4CD;;AAED,SAAS8C,gBAAT,CAA0BC,IAA1B,EAA+B;AAC7B;AACA,MAAIC,QAAQC,OAAOC,IAAP,CAAYH,IAAZ,EAAkBI,GAAlB,CAAsB,UAASC,GAAT,EAAc;AAC9C,WAAO,CAACA,GAAD,EAAML,KAAKK,GAAL,CAAN,CAAP;AACD,GAFW,CAAZ;;AAIA;AACAJ,QAAMK,IAAN,CAAW,UAASC,KAAT,EAAgBC,MAAhB,EAAwB;AACjC,WAAOA,OAAO,CAAP,IAAYD,MAAM,CAAN,CAAnB;AACD,GAFD;;AAIA,SAAON,KAAP;AACD;ACtLD,MAAMQ,IAAN,CAAW;AACTrD,cAAYsD,QAAZ,EAAsB;AACpB,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAK5E,KAAL,GAAa,EAAb;AACD;;AAID/B,UAAQ4G,SAAR,EAAmBC,MAAnB,EAA0B;AACxB;;AAEA,SAAK9E,KAAL,CAAW6E,SAAX,IAAwBC,MAAxB;AACD;;AAEDC,WAASF,SAAT,EAAmB;AACjB;;AAEA,WAAOA,aAAa,KAAK7E,KAAzB;AACD;;AAEDgF,UAAQH,SAAR,EAAkB;;AAEhB,WAAOlF,SAAS,KAAKK,KAAL,CAAW6E,SAAX,CAAT,CAAP;AACD;;AAvBQ;;AA2BX,SAAStH,SAAT,CAAmBT,QAAnB,EAA6BE,YAA7B,EAA2CyD,QAA3C,EAAoD;AAClDC,QAAM,iBAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;AACvB,UAAImE,QAAQ,KAAZ;AACAnE,eAASU,IAAT,CAAcoC,OAAd,CAAsB,UAASC,IAAT,EAAc;;AAElC,YAAGA,KAAKe,QAAL,IAAiB9H,QAAjB,IAA6B+G,KAAKqB,QAAL,IAAiBlI,YAAjD,EAA8D;AAC5DG,wBAAc,IAAIwH,IAAJ,CAAS7H,QAAT,CAAd;;AAEAqI,+BAAqB1E,QAArB;;AAEAwE,kBAAQ,IAAR;AACA;AAED;AACF,OAXD;AAcF,UAAGA,SAAS,KAAZ,EAAkB;AAChB9H,sBAAc,IAAd;;AAEA,YAAI,OAAOsD,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,mBAASQ,IAAT,CAAc,IAAd;AACD;AACF;AAGA,KA3BH;AA4BH,GA/BP,EAiCKC,KAjCL,CAiCW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B;AACD,GAnCL;AAoCD;;AAGD,SAASgE,oBAAT,CAA8B1E,QAA9B,EAAuC;AACrCC,QAAM,iBAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;AACvBA,eAASd,KAAT,CAAe4D,OAAf,CAAuB,UAASC,IAAT,EAAc;AACnC,YAAIA,KAAKuB,IAAL,IAAajI,YAAYyH,QAA7B,EAAuC;AACpCzH,sBAAY6C,KAAZ,CAAkB6D,KAAK/F,KAAvB,IAAgC+F,KAAKC,IAArC;AACF;AAEF,OALD;;AASF,UAAI,OAAOrD,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,iBAASQ,IAAT,CAAc,IAAd;AACD;AAEA,KAhBH;AAiBH,GApBP,EAsBKC,KAtBL,CAsBW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B;AACD,GAxBL;AAyBD;;AAED,SAASjE,UAAT,CAAoBJ,QAApB,EAA8B2D,QAA9B,EAAwC;AACtCC,QAAM,iBAAN,EACKC,IADL,CAEM,UAASC,SAAT,EAAoB;AAChBA,cACGC,IADH,GAEGF,IAFH,CAEQ,UAASG,QAAT,EAAmB;AACvB,UAAImE,QAAQ,KAAZ;AACAnE,eAASU,IAAT,CAAcoC,OAAd,CAAsB,UAASC,IAAT,EAAc;;AAElC,YAAGA,KAAKe,QAAL,IAAiB9H,QAApB,EAA6B;AAC3BmI,kBAAQ,IAAR;AACA9H,wBAAc,IAAd;AACA,cAAI,OAAOsD,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,qBAASQ,IAAT,CAAc,IAAd;AACD;AACD;AACD;AACF,OAVD;AAWA,UAAGgE,SAAS,KAAZ,EAAkB;AAChB9H,sBAAc,IAAIwH,IAAJ,CAAS7H,QAAT,CAAd;AACA,YAAI,OAAO2D,QAAP,IAAmB,UAAvB,EAAmC;AACjCA,mBAASQ,IAAT,CAAc,IAAd;AACD;AACF;AACF,KArBH;AAsBH,GAzBP,EA2BKC,KA3BL,CA2BW,UAASC,GAAT,EAAc;AACnBC,YAAQC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B;AACD,GA7BL;AA8BD;;AAGD,IAAIhE,cAAc,IAAlB;ACjIA,SAAS2E,eAAT,CAAyB5C,KAAzB,EAA+B;AAC9B,KAAImG,OAAQ;+BACkBnG,KAAM;;;;;;;;;;KADpC;;AAaA,QAAOmG,IAAP;AAEA;AChBD,SAASjG,sBAAT,GAAiC;AAChC,KAAIiG,OAAQ;;;;;;;;;;;;KAAZ;;AAcA,QAAOA,IAAP;AAEA;ACjBD,SAAS5F,gBAAT,CAA0B+B,IAA1B,EAA+B;AAC9B,KAAI6D,OAAQ;;6BAEgB7D,KAAK9E,EAAG;kBACnB8E,KAAK1D,KAAM;;0BAEH0D,KAAKtC,KAAM;;KALpC;;AASA,QAAOmG,IAAP;AAEA;ACZD,SAAShF,iBAAT,CAA2BiF,UAA3B,EAAsC;AACrC,KAAID,OAAQ;;;;;;;;SAQJC,UAAW;;;;;;KARnB;;AAgBA,QAAOD,IAAP;AAEA;ACnBD,SAAS1G,gBAAT,GAA2B;AAC1B,KAAI0G,OAAQ;;;;;;;;;;;;;;KAAZ;;AAgBA,QAAOA,IAAP;AAEA;ACnBD,SAASzF,aAAT,CAAuBC,QAAvB,EAAiC0F,IAAjC,EAAsC;AACrC,KAAI7B,MAAO,UAAS7D,QAAS,IAAG0F,IAAK,EAArC;;AAEA,KAAIF,OAAQ;8CACiCxF,QAAS;;;;wDAIC6D,GAAI;;;;;;;KAL3D;AAaA,KAAGvG,eAAe,IAAf,IAAuBA,YAAY4H,QAAZ,CAAqBrB,GAArB,CAA1B,EAAoD;AACnD,MAAI8B,WAAW,qCAAf;AACA,MAAGrI,YAAY6H,OAAZ,CAAoBtB,GAApB,KAA4B,CAAC,CAAhC,EAAkC;AACjC8B,cAAW,wCAAX;AACA;;AAEDH,UAAS;;wBAEaG,QAAS;;;;;;;;UAF/B;AAWA,EAjBD,MAiBO;AACNH,UAAS;;;;;;;;;;;;;;UAAT;AAeA;;AAGD,QAAOA,IAAP;AAEA;ACtDD,SAAStF,gBAAT,CAA0BhC,GAA1B,EAA+BiC,KAA/B,EAAsCC,QAAtC,EAA+C;;AAE9C,KAAIf,QAAQ,EAAZ;AACA,KAAGe,YAAY,MAAf,EAAsB;AACrBf,UAAS,wBAAuBc,KAAM,OAAtC;AAEA,EAHD,MAGM;AACLd,UAAS,wBAAuBc,KAAM,UAAtC;AACA;;AAED,KAAGL,SAASK,KAAT,IAAkB,CAArB,EACCd,SAAS,GAAT;;AAED,KAAImG,OAAQ;8CACiCnG,KAAM;;;;wDAIInB,GAAI;;;;KAL3D;AAUA,KAAGZ,eAAe,IAAf,IAAuBA,YAAY4H,QAAZ,CAAqBhH,GAArB,CAA1B,EAAoD;AACnD,MAAIyH,WAAW,qCAAf;AACA,MAAGrI,YAAY6H,OAAZ,CAAoBjH,GAApB,KAA4B,CAAC,CAAhC,EAAkC;AACjCyH,cAAW,wCAAX;AACA;;AAEDH,UAAS;;wBAEaG,QAAS;;;;;;;;UAF/B;AAWA,EAjBD,MAiBO;AACNH,UAAS;;;;;;;;;;;;;;UAAT;AAeA;;AAGD,QAAOA,IAAP;AAEA","file":"all.js","sourcesContent":["document.addEventListener(\"click\", function(event){\n\n  \n  let targetId = event.target.id;\n\n  if(targetId == \"cancelSignUp\"){\n    document.getElementById('signupform').style.display='none';\n    \n  }\n\n  if(targetId == \"submitSignUp\"){\n    let userName = document.getElementById(\"signupUsr\").value;\n    let userPassword = document.getElementById(\"signupPsw\").value;\n    let userRepPassword = document.getElementById(\"signupRepPsw\").value;\n\n\n    if(userPassword == userRepPassword){\n      signupUser(userName, function(){\n        if(currentUser == null){\n          document.getElementById(\"signuptext\").innerHTML = \"<b>This user exists!</b>\";\n        }else{\n          document.getElementById('signupform').style.display='none';\n          document.getElementById(\"signupUsr\").value = \"\";\n          document.getElementById(\"signupPsw\").value = \"\";\n          document.getElementById(\"signupRepPsw\").value = \"\";\n          changeNavbar(true);\n        } \n      });\n    } else{\n      document.getElementById(\"signuptext\").innerHTML = \"<b>Passwords does not match!</b>\";\n    }\n\n  }\n\n  if(targetId == \"signUpShower\"){\n    document.getElementById('loginform').style.display='none';\n    document.getElementById('signupform').style.display='block';\n    document.getElementById(\"signuptext\").innerHTML = \"<b></b>\";\n\n  }\n\n  if(targetId == \"cancelLogIn\"){\n    document.getElementById('loginform').style.display='none';\n    \n  }\n\n  if(targetId == \"submitLogIn\"){\n\n    let userName = document.getElementById(\"loginUsr\").value;\n    let userPassword = document.getElementById(\"loginPsw\").value;\n\n    let foundElem = false;\n\n    foundElem = loginUser(userName, userPassword, function(){\n      if(currentUser == null){\n        document.getElementById(\"logintext\").innerHTML = \"<b>Wrong username or password!</b>\";\n      }else{\n        document.getElementById('loginform').style.display='none';\n        document.getElementById(\"loginUsr\").value = \"\";\n        document.getElementById(\"loginPsw\").value = \"\";\n        changeNavbar(true);\n      }\n\n    });\n\n\n\n  }\n\n  if(targetId == \"logInShower\"){\n    document.getElementById('signupform').style.display='none';\n    document.getElementById('loginform').style.display='block';\n    document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n\n  }\n\n  if(targetId == \"logout\"){\n    currentUser = null;\n    changeNavbar(false);\n  }\n\n\n  if(targetId == \"btnLeft\"){  \n    currentCatalog.moveCatalogLeft();\n  }\n\n  if(targetId == \"btnRight\"){\n    currentCatalog.moveCatalogRight();\n  }\n\n  if(targetId == \"btnTopLeft\"){  \n    currentTopCatalog.moveCatalogLeft();\n  }\n\n  if(targetId == \"btnTopRight\"){\n    currentTopCatalog.moveCatalogRight();\n  }\n\n\n\n  if(targetId == \"nextImage\"){\n    currentCatalog.goToNextImagePage();\n  }\n\n  if(targetId == \"dislikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, -1);\n      currentCatalog.goToNextImagePage();\n    }\n  }\n\n  if(targetId == \"likeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, 1);\n      currentCatalog.goToNextImagePage();\n    }\n\n  }\n\n  if(targetId == \"topNextImage\"){\n    currentTopCatalog.goToNextImagePage();\n  }\n\n  if(targetId == \"topDislikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, -1);\n      currentTopCatalog.goToNextImagePage();\n    }\n  }\n\n  if(targetId == \"topLikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, 1);\n      currentTopCatalog.goToNextImagePage();\n    }\n\n  }\n\n  \n});\n\n\n\nfunction changeNavbar(userIsSet){\n  if(userIsSet){\n    document.getElementById('logout').style.display='block';\n    document.getElementById('signUpShower').style.display='none';\n    document.getElementById('logInShower').style.display='none';\n  } else{\n    document.getElementById('logout').style.display='none';\n    document.getElementById('signUpShower').style.display='block';\n    document.getElementById('logInShower').style.display='block';\n  }\n\n}","// window.addEventListener(\"hashchange\", funcRef, false);\n\n\nlet root = \"http://localhost/Image-Gallery/index.html\";\nlet useHash = false; // Defaults to: false\nlet hash = '#'; // Defaults to: '#'\nlet router = new Navigo(null, false);\n\n\n\nrouter\n  .on({\n    \n    'home': function () {\n     \n      let elem = document.getElementsByClassName(\"content\")[0];\n      elem.innerHTML = homePageTemplate();    \n    },\n\n    'categories/:id/' : function (params) {\n      \n      getGallery(params.id,  function(){\n     \n        currentCatalog = new Catalog(currentGalery, allCategories.getCategory(params.id).title);\n        currentCatalog.loadCatalog();\n      })\n\n      \n\n    },\n\n    'categories': function () {\n      // alert(\"categories\")\n      let elem = document.getElementsByClassName(\"content\")[0];\n      elem.innerHTML = categoriesPageTemplate(); \n      \n\n      getCategories(function(){\n        let cat = document.getElementsByClassName(\"column middle\")[0];\n\n        for(let i =0; i<allCategories.getLength(); i++){\n          cat.innerHTML += categoryTemplate(allCategories.getCategory(i));\n        }\n      })\n\n     \n    },\n    \n    'image/../images/:category/:source/:id' : function (params){\n      let elem = document.getElementsByClassName(\"content\")[0];\n      currentCatalog.currentPicture = parseInt(params.id);\n\t    elem.innerHTML = imageTemplate(params.category, params.source);    \n    },\n\n    'top/:attitude/images/:cat/:src/:id/:votes' : function (params){\n      let elem = document.getElementsByClassName(\"content\")[0];\n      currentTopCatalog.currentPicture = parseInt(params.id);\n\n      let src = `images/${params.cat}/${params.src}`;\n\n      elem.innerHTML = topImageTemplate(src, params.votes, params.attitude);    \n    },\n\n    'disliked': function () {\n      \n      getTopImages(false,  function(){\n     \n        currentTopCatalog.loadCatalog();\n      })\n    },\n    \n    'liked': function () {\n     \n      getTopImages(true,  function(){\n     \n        currentTopCatalog.loadCatalog();\n      })\n    },\n\n    \n\n\n   \n  })\n  .resolve();\n\n  router.notFound(function () {\n    \n    let elem = document.getElementsByClassName(\"content\")[0];\n    elem.innerHTML = errorPageTemplate(`Page path: ${window.location.href} was not found by router.`); \n  });\n\n\n\n  function getCategories(callback){\n    fetch('data/categories.json')\n        .then(\n          function(response0) {\n              response0\n                .json()\n                .then(function(response) {               \n\n                  allCategories = new AllCategories(response.categories);\n                \n                \n                  if (typeof callback == 'function') {\n                    callback.call(null);\n                  }\n  \n                });\n          }\n        )\n        .catch(function(err) {\n          console.log(\"Fetch Error :-S\");\n          // let elem = document.getElementsByClassName(\"content\")[0];\n          // elem.innerHTML = errorPageTemplate(`Fetch Error :-S, ${err}`); \n        });\n  }\n\nclass AllCategories {\n    \n    constructor(categoryArray) {\n      this.data = categoryArray;\n    }\n    \n    getLength(){\n      return this.data.length;\n    }\n\n    getCategory(index){\n      return this.data[index];\n    }\n}\n\n\nlet allCategories = null;","class Catalog{\n  \n  constructor(galery, title){\n    this.galery = galery;\n    this.leftdiff = 1;\n    this.elem = null;\n    this.currentPicture = null;\n    this.title = title;\n  }\n\n\n  loadCatalog(){\t \n    let content = document.getElementsByClassName(\"content\")[0];\n    content.innerHTML = catalogTemplate(this.title);    \n    this.elem = document.getElementById(\"catalog\");\n    \n    this.displayCatalog();\n  }\n\n\n  displayCatalog(){\n    let len = this.galery.getLengthOfGallery();  \n    \n    this.elem.innerHTML = \"\";  \n    \n    this.elem = document.getElementById(\"catalog\");\n    \n    for(let i=0; i<len; i++){\n      let style = `left:${(i+i*33)}%; background-image: url(\\'images/${this.galery.getGalleryImages()[i]}\\');`;\n      this.elem.innerHTML += this.getImageDiv(style, this.galery.getGalleryImages()[i], i);\n    } \n  }\n  \n  \n  getImageDiv(style, link, index){\n    let result = `<a href=\"#image/${link}/${index}\"> <div class=\"catalogImageEntry\" style=\"${style}\"></div></a>`;\n    return result;\n  }\n\n  \n\n  leftOneStep() {\n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old - 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  \n   rightOneStep() {\n \n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old + 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  moveCatalogLeft(){\t  \n    if(Math.abs(this.leftdiff) == this.galery.getLengthOfGallery()-3){\n      return;\n    }\n    this.leftOneStep();\n    this.leftdiff--;\n  }\n\n  moveCatalogRight(){\n\t\n    if(this.leftdiff == 2){\n      return;\n    }\t\n   \n    this.rightOneStep();\n    this.leftdiff++;\n  }\n\n\n  goToNextImagePage(){\n    this.currentPicture++;\n    if(this.currentPicture != this.galery.getGalleryImages().length)\n      window.location.href = `${root}#image/${this.galery.getGalleryImages()[this.currentPicture]}/${this.currentPicture}>`;\n    else\n      window.location.href = `${root}#categories`;  \n  } \n\n}\n\n\nlet currentCatalog = null;","class Gallery {\n\n  constructor(list) {\n    this.photos = list;\n  }\n\n\n  getGalleryImages(){\n    return this.photos;\n  }\n\n  getLengthOfGallery(){\n    return this.photos.length;\n  }\n}\n\n\nfunction getGallery(index,  callback){\n  fetch('data/category_images.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {               \n\n                currentGalery = new Gallery(response.category_images[index]);\n              \n              \n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\nlet currentGalery = null;","class TopCatalog{\n  \n  constructor(imageList, title, attitude){\n    this.imageList = imageList;\n    this.leftdiff = 1;\n    this.elem = null;\n    this.currentPicture = null;\n    this.title = title;\n    this.attitude = attitude;\n  }\n\n\n  loadCatalog(){\t \n    let content = document.getElementsByClassName(\"content\")[0];\n    content.innerHTML = catalogTemplate(this.title);    \n    this.elem = document.getElementById(\"catalog\");\n    \n    this.displayCatalog();\n\n    document.getElementById(\"btnLeft\").id = \"btnTopLeft\";\n    document.getElementById(\"btnRight\").id = \"btnTopRight\";\n  }\n\n\n  displayCatalog(){\n    let len = this.imageList.length;  \n    \n    this.elem.innerHTML = \"\";  \n    \n    this.elem = document.getElementById(\"catalog\");\n    \n    for(let i=0; i<len; i++){\n      let style = `left:${(i+i*33)}%; background-image: url(\\'${this.imageList[i][0]}\\');`;\n      \n      this.elem.innerHTML += this.getImageDiv(style, this.imageList[i], i);\n    } \n  }\n  \n  \n  getImageDiv(style, img, index){\n    let result = `<a href=\"#top/${this.attitude}/${img[0]}/${index}/${img[1]}\"> <div class=\"catalogImageEntry\" style=\"${style}\"></div></a>`;\n    return result;\n  }\n\n  \n\n  leftOneStep() {\n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old - 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  \n   rightOneStep() {\n \n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old + 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  moveCatalogLeft(){\t  \n    if(Math.abs(this.leftdiff) == this.imageList.length-3){\n      return;\n    }\n    this.leftOneStep();\n    this.leftdiff--;\n  }\n\n  moveCatalogRight(){\n\t\n    if(this.leftdiff == 2){\n      return;\n    }\t\n   \n    this.rightOneStep();\n    this.leftdiff++;\n  }\n\n\n  goToNextImagePage(){\n    this.currentPicture++;\n    if(this.currentPicture != this.imageList.length){\n      let src = this.imageList[this.currentPicture][0];\n      let id = this.currentPicture;\n      let votes = this.imageList[this.currentPicture][1];\n      window.location.href = `${root}#top/${this.attitude}/${src}/${id}/${votes}`;\n    }else{\n      if(this.attitude){\n        window.location.href = `${root}#liked`;  \n      } else {\n        window.location.href = `${root}#disliked`;\n      }\n    }\n  } \n\n}\n\n\nlet currentTopCatalog = null;\n\n\nfunction getTopImages(attitude , callback){\n  fetch('data/votes.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let dicImage = {}\n\n                response.votes.forEach(function(item){\n                  \n                  if( (item.vote == \"1\" && attitude == true) || (item.vote == \"-1\" && attitude == false) ) {  \n                    if (dicImage[item.image] !== undefined)               \n                      dicImage[item.image] ++;\n                    else \n                      dicImage[item.image] = 1  \n                  }\n                  \n                })\n\n                let sorted = returnSortedDict(dicImage);\n                \n                let title = \"\";\n                \n                \n\n                if(attitude == false){\n                  title = \"Mosted Disliked Pictures\";\n                }else{\n                  title = \"Mosted Liked Pictures\";\n                }\n                currentTopCatalog = new TopCatalog(sorted, title, attitude);\n\n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n\n      \n}\n\nfunction returnSortedDict(dict){\n  // Create items array\n  let items = Object.keys(dict).map(function(key) {\n    return [key, dict[key]];\n  });\n\n  // Sort the array based on the second element\n  items.sort(function(first, second) {\n    return second[1] - first[1];\n  });\n\n  return items;\n}\n","class User {\n  constructor(username) {\n    this.username = username;\n    this.votes = {};\n  }\n\n\n\n  addVote(pictureId, action){\n    //should be some kind of saving in back.\n\n    this.votes[pictureId] = action;\n  }\n  \n  hasVoted(pictureId){\n    //should be some kind of checking in back.\n\n    return pictureId in this.votes;\n  }\n\n  getVote(pictureId){\n\n    return parseInt(this.votes[pictureId]);\n  }\n\n}\n\nfunction loginUser(userName, userPassword, callback){\n  fetch('data/users.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let found = false;\n                response.data.forEach(function(item){\n                  \n                  if(item.username == userName && item.password == userPassword){\n                    currentUser = new User(userName);\n                    \n                    fillCurrentUserVotes(callback);\n\n                    found = true\n                    return;\n                    \n                  }\n                }\n                \n              )\n              if(found == false){\n                currentUser = null;\n\n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n              }\n               \n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\n\nfunction fillCurrentUserVotes(callback){\n  fetch('data/votes.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                response.votes.forEach(function(item){\n                  if( item.user == currentUser.username ){\n                     currentUser.votes[item.image] = item.vote;\n                  } \n                 \n                }\n                \n              )\n              \n              if (typeof callback == 'function') {\n                callback.call(null);\n              }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\nfunction signupUser(userName, callback) {\n  fetch('data/users.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let found = false; \n                response.data.forEach(function(item){\n                  \n                  if(item.username == userName){\n                    found = true;       \n                    currentUser = null;\n                    if (typeof callback == 'function') {\n                      callback.call(null);\n                    }\n                    return;\n                  }\n                })\n                if(found == false){\n                  currentUser = new User(userName);\n                  if (typeof callback == 'function') {\n                    callback.call(null);\n                  }\n                }\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\n\nlet currentUser = null;","function catalogTemplate(title){\n\tlet html = `\n\t\t\t\t<h1 class=\"categoryName\">${title}</h1>\t\t\t\n\n\t\t\t\t<div id=\"catalogHolder\" class=\"catalogHolder group\" >\n\t\t\t\t\t<div id=\"catalog\"  class=\"catalog\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"btnLeft\"  class=\"catalogBtn left\" >\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"btnRight\" class=\"catalogBtn right\">\n\t\t\t\t\t</div>\t\t\n\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function categoriesPageTemplate(){\n\tlet html = `\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column middle\">\n\t\t\t\t\t\t<h1>Categories</h1>\n\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function categoryTemplate(data){\n\tlet html = `\n\t\t\t\t\t<div class=\"gallery\">\n\t\t\t\t\t\t<a href=\"#categories/${data.id}/\">\n\t\t\t\t\t\t\t<img src=${data.image} alt=\"Mountains\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"desc\">${data.title}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function errorPageTemplate(error_code){\n\tlet html = `\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column middle\">\n\t\t\t\t\t\t<h1>Error Occurred</h1>\n\t\t\t\t\t\t<h2>Something went wrong:</h2>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t${error_code} \n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function homePageTemplate(){\n\tlet html = `\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column middle\">\n\t\t\t\t\t\t<h1>Home Page</h1>\n\t\t\t\t\t\t<h2>Description:</h2>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tThis is Image Gallery website. Here you can see all kind of photos divided into categories. \n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function imageTemplate(category, name){\n\tlet img = `images/${category}/${name}`;\n\t\n\tlet html = `\n\t\t\t\t\t<h1 class=\"categoryNameForSingleImage\">${category}</h1>\t\t\t\n\n\t\t\t\t\t<div class=\"group\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<img class=\"singleImage\" id=\"mainPicture\" src=\"${img}\">\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\n\t\t\t\t`;\n\tif(currentUser != null && currentUser.hasVoted(img)){\n\t\tlet voteText = \"You have already liked this picture\";\n\t\tif(currentUser.getVote(img) == -1){\n\t\t\tvoteText = \"You have already disliked this picture\";\n\t\t}\n\n\t\thtml += `\n\n\t\t\t\t<h3 id=\"voteText\">${voteText}</h3>\t\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"nextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`;\n\t} else {\n\t\thtml += `\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t<img id=\"likeImage\" class=\"action_buttons\" src=\"images/accept.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t<img id=\"dislikeImage\" class=\"action_buttons\" src=\"images/reject.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"nextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`\n\t}\t\t\t\n\t\t\t\t\n\n\treturn html;\t\t\t\n\n}","function topImageTemplate(src, votes, attitude){\n\t\n\tlet title = \"\";\n\tif(attitude == \"true\"){\n\t\ttitle = `This Picture Has Got ${votes} Like`;\n\t\t\n\t} else{\n\t\ttitle = `This Picture Has Got ${votes} Dislike`;\t\t\n\t}\n\n\tif(parseInt(votes) > 1)\n\t\ttitle += 's';\n\n\tlet html = `\n\t\t\t\t\t<h1 class=\"categoryNameForSingleImage\">${title}</h1>\t\t\t\n\n\t\t\t\t\t<div class=\"group\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<img class=\"singleImage\" id=\"mainPicture\" src=\"${src}\">\t\t\t\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\n\t\t\t\t`;\n\tif(currentUser != null && currentUser.hasVoted(src)){\n\t\tlet voteText = \"You have already liked this picture\";\n\t\tif(currentUser.getVote(src) == -1){\n\t\t\tvoteText = \"You have already disliked this picture\";\n\t\t}\n\n\t\thtml += `\n\n\t\t\t\t<h3 id=\"voteText\">${voteText}</h3>\t\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"topNextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`;\n\t} else {\n\t\thtml += `\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t<img id=\"topLikeImage\" class=\"action_buttons\" src=\"images/accept.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t<img id=\"topDislikeImage\" class=\"action_buttons\" src=\"images/reject.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"topNextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`\n\t}\t\t\t\n\t\t\t\t\n\n\treturn html;\t\t\t\n\n}"]}