{"version":3,"sources":["doc_listeners.js","router.js","classes/catalog.js","classes/gallery.js","classes/top_catalog.js","classes/user.js","templates/catalog.js","templates/categories.js","templates/category.js","templates/home.js","templates/image.js","templates/top_image.js"],"names":["document","addEventListener","event","targetId","target","id","getElementById","style","display","userName","value","userPassword","userRepPassword","signupUser","currentUser","innerHTML","changeNavbar","foundElem","loginUser","currentCatalog","moveCatalogLeft","moveCatalogRight","currentTopCatalog","goToNextImagePage","bla","image","src","substring","addVote","userIsSet","root","useHash","hash","router","Navigo","on","elem","getElementsByClassName","homePageTemplate","params","getGallery","Catalog","currentGalery","allCategories","getCategory","title","loadCatalog","categoriesPageTemplate","getCategories","cat","i","getLength","categoryTemplate","currentPicture","parseInt","imageTemplate","category","source","topImageTemplate","votes","attitude","getTopImages","resolve","notFound","console","log","callback","fetch","then","response0","json","response","AllCategories","categories","call","catch","err","categoryArray","data","length","index","galery","leftdiff","content","catalogTemplate","displayCatalog","len","getLengthOfGallery","getGalleryImages","getImageDiv","link","result","start","Date","now","timer","setInterval","timePassed","old","left","isNaN","clearInterval","Math","abs","leftOneStep","rightOneStep","window","location","href","Gallery","list","photos","category_images","TopCatalog","imageList","img","dicImage","forEach","item","vote","undefined","sorted","returnSortedDict","dict","items","Object","keys","map","key","sort","first","second","User","username","pictureId","action","found","password","fillCurrentUserVotes","user","html","name","hasVoted","voteText","getVote"],"mappings":"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","file":"all.js","sourcesContent":["document.addEventListener(\"click\", function(event){\n\n  \n  let targetId = event.target.id;\n\n  if(targetId == \"cancelSignUp\"){\n    document.getElementById('signupform').style.display='none';\n    \n  }\n\n  if(targetId == \"submitSignUp\"){\n    let userName = document.getElementById(\"signupUsr\").value;\n    let userPassword = document.getElementById(\"signupPsw\").value;\n    let userRepPassword = document.getElementById(\"signupRepPsw\").value;\n\n\n    if(userPassword == userRepPassword){\n      signupUser(userName, function(){\n        if(currentUser == null){\n          document.getElementById(\"signuptext\").innerHTML = \"<b>This user exists!</b>\";\n        }else{\n          document.getElementById('signupform').style.display='none';\n          changeNavbar(true);\n        } \n      });\n    } else{\n      document.getElementById(\"signuptext\").innerHTML = \"<b>Passwords does not match!</b>\";\n    }\n\n  }\n\n  if(targetId == \"signUpShower\"){\n    document.getElementById('loginform').style.display='none';\n    document.getElementById('signupform').style.display='block';\n    document.getElementById(\"signuptext\").innerHTML = \"<b></b>\";\n\n  }\n\n  if(targetId == \"cancelLogIn\"){\n    document.getElementById('loginform').style.display='none';\n    \n  }\n\n  if(targetId == \"submitLogIn\"){\n\n    let userName = document.getElementById(\"loginUsr\").value;\n    let userPassword = document.getElementById(\"loginPsw\").value;\n\n    let foundElem = false;\n\n    foundElem = loginUser(userName, userPassword, function(){\n      if(currentUser == null){\n        document.getElementById(\"logintext\").innerHTML = \"<b>Wrong username or password!</b>\";\n      }else{\n        document.getElementById('loginform').style.display='none';\n        changeNavbar(true);\n      }\n\n    });\n\n\n\n  }\n\n  if(targetId == \"logInShower\"){\n    document.getElementById('signupform').style.display='none';\n    document.getElementById('loginform').style.display='block';\n    document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n\n  }\n\n  if(targetId == \"logout\"){\n    currentUser = null;\n    changeNavbar(false);\n  }\n\n\n  if(targetId == \"btnLeft\"){  \n    currentCatalog.moveCatalogLeft();\n  }\n\n  if(targetId == \"btnRight\"){\n    currentCatalog.moveCatalogRight();\n  }\n\n  if(targetId == \"btnTopLeft\"){  \n    currentTopCatalog.moveCatalogLeft();\n  }\n\n  if(targetId == \"btnTopRight\"){\n    currentTopCatalog.moveCatalogRight();\n  }\n\n\n\n  if(targetId == \"nextImage\"){\n    currentCatalog.goToNextImagePage();\n  }\n\n  if(targetId == \"dislikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, -1);\n      currentCatalog.goToNextImagePage();\n    }\n  }\n\n  if(targetId == \"likeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, 1);\n      currentCatalog.goToNextImagePage();\n    }\n\n  }\n\n  if(targetId == \"topNextImage\"){\n    currentTopCatalog.goToNextImagePage();\n  }\n\n  if(targetId == \"topDislikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, -1);\n      currentTopCatalog.goToNextImagePage();\n    }\n  }\n\n  if(targetId == \"topLikeImage\"){\n    if(currentUser == null){\n      document.getElementById('signupform').style.display='none';\n      document.getElementById('loginform').style.display='block';\n      document.getElementById(\"logintext\").innerHTML = \"<b></b>\";\n    } else{\n      let bla = (document.getElementById(\"mainPicture\"));\n      let image = (bla.src).substring(31);\n      currentUser.addVote(image, 1);\n      currentTopCatalog.goToNextImagePage();\n    }\n\n  }\n\n  \n});\n\n\n\nfunction changeNavbar(userIsSet){\n  if(userIsSet){\n    document.getElementById('logout').style.display='block';\n    document.getElementById('signUpShower').style.display='none';\n    document.getElementById('logInShower').style.display='none';\n  } else{\n    document.getElementById('logout').style.display='none';\n    document.getElementById('signUpShower').style.display='block';\n    document.getElementById('logInShower').style.display='block';\n  }\n\n}","// window.addEventListener(\"hashchange\", funcRef, false);\n\n\nlet root = \"http://localhost/Image-Gallery/index.html\";\nlet useHash = false; // Defaults to: false\nlet hash = '#'; // Defaults to: '#'\nlet router = new Navigo(null, false);\n\n\n\nrouter\n  .on({\n    \n    'home': function () {\n     \n      let elem = document.getElementsByClassName(\"content\")[0];\n      elem.innerHTML = homePageTemplate();    \n    },\n\n    'categories/:id/' : function (params) {\n      \n      getGallery(params.id,  function(){\n     \n        currentCatalog = new Catalog(currentGalery, allCategories.getCategory(params.id).title);\n        currentCatalog.loadCatalog();\n      })\n\n      \n\n    },\n\n    'categories': function () {\n      // alert(\"categories\")\n      let elem = document.getElementsByClassName(\"content\")[0];\n      elem.innerHTML = categoriesPageTemplate(); \n      \n\n      getCategories(function(){\n        let cat = document.getElementsByClassName(\"column middle\")[0];\n\n        for(let i =0; i<allCategories.getLength(); i++){\n          cat.innerHTML += categoryTemplate(allCategories.getCategory(i));\n        }\n      })\n\n     \n    },\n    \n    'image/../images/:category/:source/:id' : function (params){\n      let elem = document.getElementsByClassName(\"content\")[0];\n      currentCatalog.currentPicture = parseInt(params.id);\n\t    elem.innerHTML = imageTemplate(params.category, params.source);    \n    },\n\n    'top/:attitude/images/:cat/:src/:id/:votes' : function (params){\n      let elem = document.getElementsByClassName(\"content\")[0];\n      currentTopCatalog.currentPicture = parseInt(params.id);\n\n      let src = `images/${params.cat}/${params.src}`;\n\n      elem.innerHTML = topImageTemplate(src, params.votes, params.attitude);    \n    },\n\n    'disliked': function () {\n      \n      getTopImages(false,  function(){\n     \n        currentTopCatalog.loadCatalog();\n      })\n    },\n    \n    'liked': function () {\n     \n      getTopImages(true,  function(){\n     \n        currentTopCatalog.loadCatalog();\n      })\n    },\n\n    \n\n\n   \n  })\n  .resolve();\n\n  router.notFound(function () {\n    console.log(\"Not found\");\n  });\n\n\n\n  function getCategories(callback){\n    fetch('data/categories.json')\n        .then(\n          function(response0) {\n              response0\n                .json()\n                .then(function(response) {               \n\n                  allCategories = new AllCategories(response.categories);\n                \n                \n                  if (typeof callback == 'function') {\n                    callback.call(null);\n                  }\n  \n                });\n          }\n        )\n        .catch(function(err) {\n          console.log('Fetch Error :-S', err);\n        });\n  }\n\nclass AllCategories {\n    \n    constructor(categoryArray) {\n      this.data = categoryArray;\n    }\n    \n    getLength(){\n      return this.data.length;\n    }\n\n    getCategory(index){\n      return this.data[index];\n    }\n}\n\n\nlet allCategories = null;","class Catalog{\n  \n  constructor(galery, title){\n    this.galery = galery;\n    this.leftdiff = 1;\n    this.elem = null;\n    this.currentPicture = null;\n    this.title = title;\n  }\n\n\n  loadCatalog(){\t \n    let content = document.getElementsByClassName(\"content\")[0];\n    content.innerHTML = catalogTemplate(this.title);    \n    this.elem = document.getElementById(\"catalog\");\n    \n    this.displayCatalog();\n  }\n\n\n  displayCatalog(){\n    let len = this.galery.getLengthOfGallery();  \n    \n    this.elem.innerHTML = \"\";  \n    \n    this.elem = document.getElementById(\"catalog\");\n    \n    for(let i=0; i<len; i++){\n      let style = `left:${(i+i*33)}%; background-image: url(\\'images/${this.galery.getGalleryImages()[i]}\\');`;\n      this.elem.innerHTML += this.getImageDiv(style, this.galery.getGalleryImages()[i], i);\n    } \n  }\n  \n  \n  getImageDiv(style, link, index){\n    let result = `<a href=\"#image/${link}/${index}\"> <div class=\"catalogImageEntry\" style=\"${style}\"></div></a>`;\n    return result;\n  }\n\n  \n\n  leftOneStep() {\n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old - 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  \n   rightOneStep() {\n \n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old + 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  moveCatalogLeft(){\t  \n    if(Math.abs(this.leftdiff) == this.galery.getLengthOfGallery()-3){\n      return;\n    }\n    this.leftOneStep();\n    this.leftdiff--;\n  }\n\n  moveCatalogRight(){\n\t\n    if(this.leftdiff == 2){\n      return;\n    }\t\n   \n    this.rightOneStep();\n    this.leftdiff++;\n  }\n\n\n  goToNextImagePage(){\n    this.currentPicture++;\n    if(this.currentPicture != this.galery.getGalleryImages().length)\n      window.location.href = `${root}#image/${this.galery.getGalleryImages()[this.currentPicture]}/${this.currentPicture}>`;\n    else\n      window.location.href = `${root}#categories`;  \n  } \n\n}\n\n\nlet currentCatalog = null;","class Gallery {\n\n  constructor(list) {\n    this.photos = list;\n  }\n\n\n  getGalleryImages(){\n    return this.photos;\n  }\n\n  getLengthOfGallery(){\n    return this.photos.length;\n  }\n}\n\n\nfunction getGallery(index,  callback){\n  fetch('data/category_images.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {               \n\n                currentGalery = new Gallery(response.category_images[index]);\n              \n              \n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\nlet currentGalery = null;","class TopCatalog{\n  \n  constructor(imageList, title, attitude){\n    this.imageList = imageList;\n    this.leftdiff = 1;\n    this.elem = null;\n    this.currentPicture = null;\n    this.title = title;\n    this.attitude = attitude;\n  }\n\n\n  loadCatalog(){\t \n    let content = document.getElementsByClassName(\"content\")[0];\n    content.innerHTML = catalogTemplate(this.title);    \n    this.elem = document.getElementById(\"catalog\");\n    \n    this.displayCatalog();\n\n    document.getElementById(\"btnLeft\").id = \"btnTopLeft\";\n    document.getElementById(\"btnRight\").id = \"btnTopRight\";\n  }\n\n\n  displayCatalog(){\n    let len = this.imageList.length;  \n    \n    this.elem.innerHTML = \"\";  \n    \n    this.elem = document.getElementById(\"catalog\");\n    \n    for(let i=0; i<len; i++){\n      let style = `left:${(i+i*33)}%; background-image: url(\\'${this.imageList[i][0]}\\');`;\n      \n      this.elem.innerHTML += this.getImageDiv(style, this.imageList[i], i);\n    } \n  }\n  \n  \n  getImageDiv(style, img, index){\n    let result = `<a href=\"#top/${this.attitude}/${img[0]}/${index}/${img[1]}\"> <div class=\"catalogImageEntry\" style=\"${style}\"></div></a>`;\n    return result;\n  }\n\n  \n\n  leftOneStep() {\n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old - 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  \n   rightOneStep() {\n \n    let start = Date.now();\n    let elem = this.elem;\n    let timer = setInterval(function() {\n      let timePassed = Date.now() - start;\n  \n      let old =  parseInt(elem.style.left, 10);\n  \n      if(isNaN(old)){\n        old = 0;\n      }\t\t\n      elem.style.left = old + 1 + \"%\";\n  \n      if (timePassed > 1000) clearInterval(timer);\n  \n    }, 30);\n  }\n  moveCatalogLeft(){\t  \n    if(Math.abs(this.leftdiff) == this.imageList.length-3){\n      return;\n    }\n    this.leftOneStep();\n    this.leftdiff--;\n  }\n\n  moveCatalogRight(){\n\t\n    if(this.leftdiff == 2){\n      return;\n    }\t\n   \n    this.rightOneStep();\n    this.leftdiff++;\n  }\n\n\n  goToNextImagePage(){\n    this.currentPicture++;\n    if(this.currentPicture != this.imageList.length){\n      let src = this.imageList[this.currentPicture][0];\n      let id = this.currentPicture;\n      let votes = this.imageList[this.currentPicture][1];\n      window.location.href = `${root}#top/${this.attitude}/${src}/${id}/${votes}`;\n    }else{\n      if(this.attitude){\n        window.location.href = `${root}#liked`;  \n      } else {\n        window.location.href = `${root}#disliked`;\n      }\n    }\n  } \n\n}\n\n\nlet currentTopCatalog = null;\n\n\nfunction getTopImages(attitude , callback){\n  fetch('data/votes.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let dicImage = {}\n\n                response.votes.forEach(function(item){\n                  \n                  if( (item.vote == \"1\" && attitude == true) || (item.vote == \"-1\" && attitude == false) ) {  \n                    if (dicImage[item.image] !== undefined)               \n                      dicImage[item.image] ++;\n                    else \n                      dicImage[item.image] = 1  \n                  }\n                  \n                })\n\n                let sorted = returnSortedDict(dicImage);\n                \n                let title = \"\";\n                \n                \n\n                if(attitude == false){\n                  title = \"Mosted Disliked Pictures\";\n                }else{\n                  title = \"Mosted Liked Pictures\";\n                }\n                currentTopCatalog = new TopCatalog(sorted, title, attitude);\n\n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n\n      \n}\n\nfunction returnSortedDict(dict){\n  // Create items array\n  let items = Object.keys(dict).map(function(key) {\n    return [key, dict[key]];\n  });\n\n  // Sort the array based on the second element\n  items.sort(function(first, second) {\n    return second[1] - first[1];\n  });\n\n  return items;\n}\n","class User {\n  constructor(username) {\n    this.username = username;\n    this.votes = {};\n  }\n\n\n\n  addVote(pictureId, action){\n    //should be some kind of saving in back.\n\n    this.votes[pictureId] = action;\n  }\n  \n  hasVoted(pictureId){\n    //should be some kind of checking in back.\n\n    return pictureId in this.votes;\n  }\n\n  getVote(pictureId){\n\n    return parseInt(this.votes[pictureId]);\n  }\n\n}\n\nfunction loginUser(userName, userPassword, callback){\n  fetch('data/users.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let found = false;\n                response.data.forEach(function(item){\n                  \n                  if(item.username == userName && item.password == userPassword){\n                    currentUser = new User(userName);\n                    \n                    fillCurrentUserVotes(callback);\n\n                    found = true\n                    return;\n                    \n                  }\n                }\n                \n              )\n              if(found == false){\n                currentUser = null;\n\n                if (typeof callback == 'function') {\n                  callback.call(null);\n                }\n              }\n               \n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\n\nfunction fillCurrentUserVotes(callback){\n  fetch('data/votes.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                response.votes.forEach(function(item){\n                  if( item.user == currentUser.username ){\n                     currentUser.votes[item.image] = item.vote;\n                  } \n                 \n                }\n                \n              )\n              \n              if (typeof callback == 'function') {\n                callback.call(null);\n              }\n\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\nfunction signupUser(userName, callback) {\n  fetch('data/users.json')\n      .then(\n        function(response0) {\n            response0\n              .json()\n              .then(function(response) {\n                let found = false; \n                response.data.forEach(function(item){\n                  \n                  if(item.username == userName){\n                    found = true;       \n                    currentUser = null;\n                    if (typeof callback == 'function') {\n                      callback.call(null);\n                    }\n                    return;\n                  }\n                })\n                if(found == false){\n                  currentUser = new User(userName);\n                  if (typeof callback == 'function') {\n                    callback.call(null);\n                  }\n                }\n              });\n        }\n      )\n      .catch(function(err) {\n        console.log('Fetch Error :-S', err);\n      });\n}\n\n\nlet currentUser = null;","function catalogTemplate(title){\n\tlet html = `\n\t\t\t\t<h1 class=\"categoryName\">${title}</h1>\t\t\t\n\n\t\t\t\t<div id=\"catalogHolder\" class=\"catalogHolder group\" >\n\t\t\t\t\t<div id=\"catalog\"  class=\"catalog\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"btnLeft\"  class=\"catalogBtn left\" >\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"btnRight\" class=\"catalogBtn right\">\n\t\t\t\t\t</div>\t\t\n\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function categoriesPageTemplate(){\n\tlet html = `\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t<h2>Side</h2>\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column middle\">\n\t\t\t\t\t\t<h1>Categories</h1>\n\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t<h2>Side</h2>\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function categoryTemplate(data){\n\tlet html = `\n\t\t\t\t\t<div class=\"gallery\">\n\t\t\t\t\t\t<a href=\"#categories/${data.id}/\">\n\t\t\t\t\t\t\t<img src=${data.image} alt=\"Mountains\">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"desc\">${data.title}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function homePageTemplate(){\n\tlet html = `\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t<h2>Side</h2>\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column middle\">\n\t\t\t\t\t\t<h1>Home Page</h1>\n\t\t\t\t\t\t<h2>Description:</h2>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tThis is Image Gallery website. Here you can see all kind of photos divided into categories. \n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"column side\">\n\t\t\t\t\t\t<h2>Side</h2>\n\t\t\t\t\t\t<p></p>\n\t\t\t\t\t</div>\n\t\t\t\t`;\t \n\n\treturn html;\t\t\t\n\n}","function imageTemplate(category, name){\n\tlet img = `images/${category}/${name}`;\n\t\n\tlet html = `\n\t\t\t\t\t<h1 class=\"categoryNameForSingleImage\">${category}</h1>\t\t\t\n\n\t\t\t\t\t<div class=\"group\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<img class=\"singleImage\" id=\"mainPicture\" src=\"${img}\">\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\n\t\t\t\t`;\n\tif(currentUser != null && currentUser.hasVoted(img)){\n\t\tlet voteText = \"You have already liked this picture\";\n\t\tif(currentUser.getVote(img) == -1){\n\t\t\tvoteText = \"You have already disliked this picture\";\n\t\t}\n\n\t\thtml += `\n\n\t\t\t\t<h3 id=\"voteText\">${voteText}</h3>\t\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"nextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`;\n\t} else {\n\t\thtml += `\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t<img id=\"likeImage\" class=\"action_buttons\" src=\"images/accept.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t<img id=\"dislikeImage\" class=\"action_buttons\" src=\"images/reject.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"nextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`\n\t}\t\t\t\n\t\t\t\t\n\n\treturn html;\t\t\t\n\n}","function topImageTemplate(src, votes, attitude){\n\t\n\tlet title = \"\";\n\tif(attitude == \"true\"){\n\t\ttitle = `This Picture Has Got ${votes} Likes`;\n\t} else{\n\t\ttitle = `This Picture Has Got ${votes} Dislikes`;\n\t}\n\n\tlet html = `\n\t\t\t\t\t<h1 class=\"categoryNameForSingleImage\">${title}</h1>\t\t\t\n\n\t\t\t\t\t<div class=\"group\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<img class=\"singleImage\" id=\"mainPicture\" src=\"${src}\">\t\t\t\t\t\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\n\t\t\t\t`;\n\tif(currentUser != null && currentUser.hasVoted(src)){\n\t\tlet voteText = \"You have already liked this picture\";\n\t\tif(currentUser.getVote(src) == -1){\n\t\t\tvoteText = \"You have already disliked this picture\";\n\t\t}\n\n\t\thtml += `\n\n\t\t\t\t<h3 id=\"voteText\">${voteText}</h3>\t\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"topNextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`;\n\t} else {\n\t\thtml += `\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<div class=\"left\">\n\t\t\t\t\t\t<img id=\"topLikeImage\" class=\"action_buttons\" src=\"images/accept.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right\">\n\t\t\t\t\t\t<img id=\"topDislikeImage\" class=\"action_buttons\" src=\"images/reject.png\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t\t<img id=\"topNextImage\" class=\"action_buttons\" src=\"images/next.png\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t</div>`\n\t}\t\t\t\n\t\t\t\t\n\n\treturn html;\t\t\t\n\n}"]}